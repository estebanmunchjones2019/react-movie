(this.webpackJsonpreact_movie_db_course=this.webpackJsonpreact_movie_db_course||[]).push([[0],{27:function(e,t,a){e.exports=a(52)},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),m=a(7),l=a(8),i=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Whooops. The page doesn't exist"))},s=a(17),u=a(9),d=a.n(u),v=a(16),p=a(11),g=a(12),b=a(14),h=a(13),f=a(15),E="https://api.themoviedb.org/3/",N="b62cdac89fb1847cd3615bc33e45dc33",y="http://image.tmdb.org/t/p/",k=(a(33),function(e){var t=e.movie;return r.a.createElement("div",{className:"rmdb-navigation"},r.a.createElement("div",{className:"rmdb-navigation-content"},r.a.createElement(m.b,{to:"/"},r.a.createElement("p",null,"Home")),r.a.createElement("p",null,t)))}),O=a(5),S=a.n(O),j=(a(39),function(e){var t=e.movieId,a=e.movieName,n=e.image;return r.a.createElement("div",{className:"rmdb-moviethumb"},r.a.createElement(m.b,{to:{pathname:"/".concat(t),movieName:"".concat(a)}},r.a.createElement("img",{src:n,alt:"moviethumb"})))}),x=a(1),I=a.n(x);a(40);j.propTypes={image:I.a.string,clickable:I.a.bool},S.a.propTypes={name:I.a.string,size:I.a.string};var _=function(e){var t=e.movie,a=e.directors;return r.a.createElement("div",{className:"rmdb-movieinfo",style:{background:t.backdrop_path?"url(".concat(y).concat("w1280").concat(t.backdrop_path,")"):"#000"}},r.a.createElement("div",{className:"rmdb-movieinfo-content"},r.a.createElement("div",{className:"rmdb-movieinfo-thumb"},r.a.createElement(j,{image:t.poster_path?"".concat(y).concat("w500").concat(t.poster_path):"./images/no_image.jpg",clickable:!1})),r.a.createElement("div",{className:"rmdb-movieinfo-text"},r.a.createElement("h1",null,t.title),r.a.createElement("h3",null,"PLOT"),r.a.createElement("p",null,t.overview),r.a.createElement("h3",null,"IMDB RATING"),r.a.createElement("div",{className:"rmdb-rating"},r.a.createElement("meter",{min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*t.vote_average}),r.a.createElement("p",{className:"rmdb-score"},t.vote_average)),a.length>1?r.a.createElement("h3",null,"DIRECTORS"):r.a.createElement("h3",null,"DIRECTOR"),a.map((function(e,t){return r.a.createElement("p",{key:t,className:"rmdb-director"},e.name)}))),r.a.createElement(S.a,{className:"fa-film",name:"film",size:"5x"})))},T=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)};a(41);S.a.propTypes={name:I.a.string,size:I.a.string};var w=function(e){var t=e.time,a=e.budget,n=e.revenue;return r.a.createElement("div",{className:"rmdb-movieinfobar"},r.a.createElement("div",{className:"rmdb-movieinfobar-content"},r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(S.a,{className:"fa-time",name:"clock-o",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Running time: ",function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(t))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(S.a,{className:"fa-budget",name:"money",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Budget: ",T(a))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(S.a,{className:"fa-revenue",name:"ticket",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Revenue: ",T(n)))))},C=(a(42),function(e){var t=e.children,a=e.header,n=e.loading;return r.a.createElement("div",{className:"rmdb-grid"},a&&!n?r.a.createElement("h1",null,a):null,r.a.createElement("div",{className:"rmdb-grid-content"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"rmdb-grid-element"},e)}))))}),P=(a(43),function(e){var t=e.actor;return r.a.createElement("div",{className:"rmdb-actor"},r.a.createElement("img",{src:t.profile_path?"".concat(y).concat("w154").concat(t.profile_path):"./images/no_image.jpg",alt:"actorthumb"}),r.a.createElement("span",{className:"rmdb-actor-name"},t.name),r.a.createElement("span",{className:"rmdb-actor-character"},t.character))}),z=(a(44),function(){return r.a.createElement("div",{className:"loader"})}),D=(a(45),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={movie:null,actors:null,directors:[],loading:!1},a.fetchItems=function(){var e=Object(v.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.match.params.movieId,e.prev=1,e.next=4,fetch(t);case 4:return e.next=6,e.sent.json();case 6:(r=e.sent).status_code?a.setState({loading:!1}):a.setState({movie:r},Object(v.a)(d.a.mark((function e(){var t,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(E,"movie/").concat(n,"/credits?api_key=").concat(N),e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:r=e.sent,c=r.crew.filter((function(e){return"Director"===e.job})),a.setState({actors:r.cast,directors:c,loading:!1},(function(){localStorage.setItem("".concat(n),JSON.stringify(a.state))}));case 8:case"end":return e.stop()}}),e)})))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.movieId;if(localStorage.getItem("".concat(e))){var t=JSON.parse(localStorage.getItem("".concat(e)));this.setState(Object(s.a)({},t))}else{this.setState({loading:!0});var a="".concat(E,"movie/").concat(e,"?api_key=").concat(N);this.fetchItems(a)}}},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.actors,n=e.directors,c=e.loading;return r.a.createElement("div",{className:"rmdb-movie"},this.state.movie?r.a.createElement("div",null,r.a.createElement(k,{movie:this.props.location.movieName}),r.a.createElement(_,{movie:t,directors:n}),r.a.createElement(w,{time:t.runtime,budget:t.budget,revenue:t.revenue})):null,a?r.a.createElement("div",{className:"rmdb-movie-grid"},r.a.createElement(C,{header:"Actors"},a.map((function(e,t){return r.a.createElement(P,{key:t,actor:e})})))):null,!a&&c.false?r.a.createElement("h1",null,"No movie found!"):null,c?r.a.createElement(z,null):null)}}]),t}(r.a.Component)),J=(a(46),function(){return r.a.createElement("div",{className:"rmdb-header"},r.a.createElement("div",{className:"rmdb-header-content"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{className:"rmdb-logo",src:"./images/reactMovie_logo.png",alt:"mrdb-logo"})),r.a.createElement("img",{className:"rmdb-tmdb-logo",src:"./images/tmdb_logo.png",alt:"mrdb-logo"})))}),R=a(18),M=(a(47),a(48),function(e){var t=e.image,a=e.title,n=e.text;return r.a.createElement("div",{className:"rmdb-heroimage",style:{background:"linear-gradient(to bottom, \n                rgba(0,0,0,0) 39%, \n                rgba(0,0,0,0) 41%, \n                rgba(0,0,0,0.65) 100%),\n                url('".concat(t,"'), #1c1c1c")}},r.a.createElement("div",{className:"rmdb-heroimage-content"},r.a.createElement("div",{className:"rmdb-heroimage-text"},r.a.createElement("h1",null,a),r.a.createElement("p",null,n))))}),A=(a(49),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.timeOut=null,a.doSearch=function(e){a.setState({value:e.target.value}),clearTimeout(a.timeOut),a.timeOut=setTimeout((function(){a.props.callback(!1,a.state.value)}),500)},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-searchbar"},r.a.createElement("div",{className:"rmdb-searchbar-content"},r.a.createElement(S.a,{className:"rmdb-fa-search",name:"search",size:"2x"}),r.a.createElement("input",{type:"text",className:"rmdb-searchbar-input",placeholder:"Search",onChange:this.doSearch,value:this.state.value})))}}]),t}(r.a.Component));S.a.propTypes={name:I.a.string,size:I.a.string};var H=A,B=(a(50),function(e){var t=e.onClick,a=e.text;return(r.a.createElement("div",{className:"rmdb-loadmorebtn",onClick:function(){t(!0)}},r.a.createElement("p",null,a)))}),F=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],heroImage:null,loading:!1,currentPage:0,totalPages:0,searchTerm:""},a.createEndpoint=function(e,t,n){return"".concat(E).concat(e,"?api_key=").concat(N,"&page=\n            ").concat(t&&a.state.currentPage+1,"&query=").concat(n)},a.updateItems=function(e,t){if(localStorage.getItem(t)){var n=JSON.parse(localStorage.getItem(t));a.setState(Object(s.a)({},n))}else a.setState({movies:e?Object(R.a)(a.state.movies):[],loading:!0,searchTerm:e?a.state.searchTerm:t},(function(){a.fetchitems(a.state.searchTerm?a.createEndpoint("search/movie",e,a.state.searchTerm):a.createEndpoint("movie/popular",e,""))}))},a.fetchitems=function(){var e=Object(v.a)(d.a.mark((function e(t){var n,r,c,o,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.movies,c=n.heroImage,o=n.searchTerm,e.prev=1,e.next=4,fetch(t);case 4:return e.next=6,e.sent.json();case 6:m=e.sent,a.setState({movies:[].concat(Object(R.a)(r),Object(R.a)(m.results)),heroImage:c||m.results[0],loading:!1,currentPage:m.page,totalPages:m.total_pages},(function(){""===o?localStorage.setItem("HomeState",JSON.stringify(a.state)):localStorage.setItem("".concat(o),JSON.stringify(a.state))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error: err");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("HomeState")){var e=JSON.parse(localStorage.getItem("HomeState"));this.setState(Object(s.a)({},e))}else this.setState({loading:!0}),this.fetchitems(this.createEndpoint("movie/popular",!1,""))}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.heroImage,n=e.loading,c=e.currentPage,o=e.totalPages,m=e.searchTerm;return r.a.createElement("div",{className:"imdb-home"},a&&!m?r.a.createElement("div",null,r.a.createElement(M,{image:"".concat(y).concat("w1280").concat(a.backdrop_path),title:"".concat(a.original_title),text:"".concat(a.overview)})):null,r.a.createElement(H,{callback:this.updateItems}),r.a.createElement("div",{className:"mrdb-home-grid"},r.a.createElement(C,{header:m?"Search Result":"Popular Movies",loading:n},t.map((function(e,t){return r.a.createElement(j,{key:t,clickable:!0,image:e.poster_path?"".concat(y).concat("w500").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title})}))),n?r.a.createElement(z,null):null,c<o&&!n?r.a.createElement(B,{text:"Load More",onClick:this.updateItems}):null))}}]),t}(r.a.Component);M.propTypes={image:I.a.string,title:I.a.string,text:I.a.string},H.propTypes={callback:I.a.func},C.propTypes={header:I.a.string,loading:I.a.bool},j.propTypes={clickable:I.a.bool,image:I.a.string,movieId:I.a.number,movieName:I.a.string},B.prototypes={text:I.a.string,onClick:I.a.func};var L=F;l.a.protoTypes={path:I.a.string,component:I.a.instanceOf(D),exact:I.a.bool};var U=function(){return r.a.createElement(m.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",component:L,exact:!0}),r.a.createElement(l.a,{path:"/:movieId",component:D,exact:!0}),r.a.createElement(l.a,{component:i}))))};a(51);o.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8f3eea24.chunk.js.map